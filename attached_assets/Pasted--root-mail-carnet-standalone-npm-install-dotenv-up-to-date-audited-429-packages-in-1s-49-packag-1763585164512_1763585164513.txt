[root@mail carnet-standalone]# npm install dotenv

up to date, audited 429 packages in 1s

49 packages are looking for funding
  run `npm fund` for details

5 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
[root@mail carnet-standalone]# sed -i "1i import 'dotenv/config';" server/index.ts
[root@mail carnet-standalone]# head -5 server/index.ts
import 'dotenv/config';
import express from 'express';
import session from 'express-session';
import cors from 'cors';
import { createServer } from 'http';
[root@mail carnet-standalone]# cat > ecosystem.config.cjs << 'EOF'
module.exports = {
  apps: [{
    name: 'carnet-patient-portal',
    script: './node_modules/.bin/tsx',
    args: 'server/index.ts',
    cwd: '/var/www/vhosts/navimedi.org/httpdocs/NAVIMEDI-EHR/carnet-standalone',
    instances: 1,
    exec_mode: 'fork',
    autorestart: true,
    watch: false,
    max_memory_restart: '1G',
    env: {
      DATABASE_URL: 'postgresql://neondb_owner:npg_vMTokQ6w9fey@ep-square-moon-aexpu2wb.c-2.us-east-2.aws.neon.tech/neondb?sslmode=require',
      JWT_SECRET: 'df383b0329a051979e796b4a89bf792d72d22337eb477661e8f2e84e80b147be',
      SESSION_SECRET: '4bbb25376ec9af4f3634bdbdc01741d3383ed0fee3f966dd8048d01c1010a488',
      NODE_ENV: 'production',
      PORT: '5001'
    }
  }]
};
EOF
[root@mail carnet-standalone]# pm2 start ecosystem.config.cjs
[PM2][WARN] Applications carnet-patient-portal not running, starting...
[PM2] App [carnet-patient-portal] launched (1 instances)
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name               â”‚ mode     â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ memory   â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4  â”‚ carnet-patient-poâ€¦ â”‚ fork     â”‚ 0    â”‚ online    â”‚ 0%       â”‚ 17.6mb   â”‚
â”‚ 0  â”‚ navimed            â”‚ fork     â”‚ 135  â”‚ online    â”‚ 0%       â”‚ 75.4mb   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
[root@mail carnet-standalone]# pm2 logs carnet-patient-portal --lines 20 --nostream
[TAILING] Tailing last 20 lines for [carnet-patient-portal] process (change the value with --lines option)
/root/.pm2/logs/carnet-patient-portal-error-4.log last 20 lines:
4|carnet-p | Warning: connect.session() MemoryStore is not
4|carnet-p | designed for a production environment, as it will leak
4|carnet-p | memory, and will not scale past a single process.

/root/.pm2/logs/carnet-patient-portal-out-4.log last 20 lines:
4|carnet-p | ðŸš€ CARNET server running on port 5001

[root@mail carnet-standalone]# 