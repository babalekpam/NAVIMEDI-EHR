import{r as j,au as H,j as e,h as g,aC as X,ai as h,C as c,d,e as o,bn as $,g as m,bQ as k,bL as Q,f as V,I as z,N as y,O as v,Q as C,V as f,W as a,X as q,Y as E,Z as b,_ as i,$ as J,a0 as n,a1 as w}from"./index-DHAHNq0D.js";function U(){const[x,S]=j.useState(""),[u,P]=j.useState("all"),[p,D]=j.useState("all"),{data:r=[],isLoading:G}=H({queryKey:["/api/pharmacy/billing"],queryFn:()=>Promise.resolve([{id:"1",transactionDate:"2025-01-29",customerName:"John Doe",prescriptionId:"RX001",medicationName:"Amoxicillin 500mg",insuranceProvider:"Blue Cross Blue Shield",insuranceClaim:45.5,patientCopay:10,totalAmount:55.5,paymentMethod:"card",status:"completed",claimStatus:"approved",notes:"Generic substitution applied"},{id:"2",transactionDate:"2025-01-29",customerName:"Jane Smith",prescriptionId:"RX002",medicationName:"Lisinopril 10mg",insuranceProvider:"Aetna",insuranceClaim:25.75,patientCopay:15,totalAmount:40.75,paymentMethod:"insurance",status:"pending",claimStatus:"processing"},{id:"3",transactionDate:"2025-01-28",customerName:"Mike Johnson",prescriptionId:"RX003",medicationName:"Metformin 850mg",insuranceProvider:"UnitedHealth",insuranceClaim:18.2,patientCopay:5,totalAmount:23.2,paymentMethod:"card",status:"completed",claimStatus:"approved"},{id:"4",transactionDate:"2025-01-28",customerName:"Sarah Davis",prescriptionId:"RX004",medicationName:"Atorvastatin 40mg",insuranceProvider:"Humana",insuranceClaim:62.3,patientCopay:20,totalAmount:82.3,paymentMethod:"cash",status:"completed",claimStatus:"approved",notes:"Patient preferred cash payment"},{id:"5",transactionDate:"2025-01-27",customerName:"Robert Wilson",prescriptionId:"RX005",medicationName:"Omeprazole 20mg",totalAmount:35.8,patientCopay:35.8,insuranceClaim:0,paymentMethod:"card",status:"completed",notes:"No insurance coverage"},{id:"6",transactionDate:"2025-01-26",customerName:"Lisa Brown",prescriptionId:"RX006",medicationName:"Hydrochlorothiazide 25mg",insuranceProvider:"Cigna",insuranceClaim:28.4,patientCopay:12,totalAmount:40.4,paymentMethod:"insurance",status:"failed",claimStatus:"denied",notes:"Prior authorization required"}]),staleTime:3e4}),T=s=>{const t={completed:{color:"bg-green-100 text-green-800",text:"Completed"},pending:{color:"bg-yellow-100 text-yellow-800",text:"Pending"},failed:{color:"bg-red-100 text-red-800",text:"Failed"}},l=t[s]||t.completed;return e.jsx(w,{className:l.color,children:l.text})},I=s=>{if(!s)return null;const l={submitted:{color:"bg-blue-100 text-blue-800",text:"Submitted"},approved:{color:"bg-green-100 text-green-800",text:"Approved"},denied:{color:"bg-red-100 text-red-800",text:"Denied"},processing:{color:"bg-yellow-100 text-yellow-800",text:"Processing"}}[s];return l?e.jsx(w,{className:l.color,children:l.text}):null},A=s=>({cash:"ðŸ’µ Cash",card:"ðŸ’³ Card",insurance:"ðŸ¥ Insurance",check:"ðŸ“„ Check"})[s]||s,N=r.filter(s=>{const t=s.customerName.toLowerCase().includes(x.toLowerCase())||s.medicationName.toLowerCase().includes(x.toLowerCase())||s.prescriptionId.toLowerCase().includes(x.toLowerCase()),l=u==="all"||s.status===u,B=p==="all"||s.paymentMethod===p;return t&&l&&B}),M=r.reduce((s,t)=>s+t.totalAmount,0),F=r.reduce((s,t)=>s+t.insuranceClaim,0),R=r.reduce((s,t)=>s+t.patientCopay,0),L=r.filter(s=>s.status==="completed").length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Billing & Revenue"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track payments, insurance claims, and financial reporting"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(g,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4"}),"Export Report"]}),e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-4 w-4"}),"Generate Invoice"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx($,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",M.toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-500",children:"This period"})]})]}),e.jsxs(c,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Insurance Claims"}),e.jsx(h,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",F.toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Claimed from insurance"})]})]}),e.jsxs(c,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Patient Payments"}),e.jsx(k,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",R.toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Patient copays & direct pay"})]})]}),e.jsxs(c,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Transactions"}),e.jsx(Q,{className:"h-4 w-4 text-orange-600"})]}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold",children:L}),e.jsx("p",{className:"text-xs text-gray-500",children:"Completed this period"})]})]})]}),e.jsxs(c,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(o,{children:"Transaction History"}),e.jsx(V,{children:"View and manage billing transactions"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(z,{placeholder:"Search transactions...",value:x,onChange:s=>S(s.target.value),className:"w-80"}),e.jsxs(y,{value:u,onValueChange:P,children:[e.jsx(v,{className:"w-32",children:e.jsx(C,{placeholder:"Status"})}),e.jsxs(f,{children:[e.jsx(a,{value:"all",children:"All Status"}),e.jsx(a,{value:"completed",children:"Completed"}),e.jsx(a,{value:"pending",children:"Pending"}),e.jsx(a,{value:"failed",children:"Failed"})]})]}),e.jsxs(y,{value:p,onValueChange:D,children:[e.jsx(v,{className:"w-32",children:e.jsx(C,{placeholder:"Payment"})}),e.jsxs(f,{children:[e.jsx(a,{value:"all",children:"All Methods"}),e.jsx(a,{value:"cash",children:"Cash"}),e.jsx(a,{value:"card",children:"Card"}),e.jsx(a,{value:"insurance",children:"Insurance"}),e.jsx(a,{value:"check",children:"Check"})]})]})]})]})}),e.jsxs(m,{children:[e.jsx("div",{className:"rounded-md border",children:e.jsxs(q,{children:[e.jsx(E,{children:e.jsxs(b,{children:[e.jsx(i,{children:"Date"}),e.jsx(i,{children:"Customer"}),e.jsx(i,{children:"Prescription"}),e.jsx(i,{children:"Insurance"}),e.jsx(i,{children:"Patient Pay"}),e.jsx(i,{children:"Total"}),e.jsx(i,{children:"Payment"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(J,{children:N.map(s=>e.jsxs(b,{children:[e.jsx(n,{children:e.jsx("div",{className:"text-sm",children:new Date(s.transactionDate).toLocaleDateString()})}),e.jsx(n,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.customerName}),e.jsx("div",{className:"text-sm text-gray-500",children:s.prescriptionId})]})}),e.jsx(n,{children:e.jsx("div",{className:"text-sm",children:s.medicationName})}),e.jsx(n,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium",children:["$",s.insuranceClaim.toFixed(2)]}),s.insuranceProvider&&e.jsx("div",{className:"text-xs text-gray-500",children:s.insuranceProvider}),s.claimStatus&&I(s.claimStatus)]})}),e.jsx(n,{children:e.jsxs("div",{className:"text-sm font-medium",children:["$",s.patientCopay.toFixed(2)]})}),e.jsx(n,{children:e.jsxs("div",{className:"text-sm font-medium",children:["$",s.totalAmount.toFixed(2)]})}),e.jsx(n,{children:e.jsx("div",{className:"text-sm",children:A(s.paymentMethod)})}),e.jsx(n,{children:T(s.status)}),e.jsx(n,{children:e.jsx(g,{variant:"ghost",size:"sm",children:e.jsx(h,{className:"h-4 w-4"})})})]},s.id))})]})}),N.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(h,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No transactions found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})]})]})]})}export{U as default};
