import{as as Re,w as Oe,u as Ue,x as qe,r as c,au as M,c as j,j as e,a1 as C,S as we,A as Be,D as $e,E as Z,J as ee,C as N,d as v,e as w,bS as _e,g as y,bT as Qe,bU as Ve,bV as Je,ab as l,bW as Ge,bX as He,h as o,bY as We,I as g,T as Xe,t as se,aq as ye,a4 as Ze,bZ as be,b_ as ae,b$ as es,a3 as ss,c0 as as,c1 as te,c2 as L,M as ts,an as is,c3 as Pe,P as ns,c4 as rs,c5 as S,R as ls,N as F,O as E,Q as T,V as I,W as n,c6 as P}from"./index-DHAHNq0D.js";function os(){var ge,fe,Ne;const{user:t,refreshUser:ie}=Re(),{tenant:u}=Oe(),{toast:r}=Ue(),{setLanguage:K,currentLanguage:z,isTranslating:ne,isSyncing:re}=qe(),[b,R]=c.useState(!1),[O,Ce]=c.useState(!1),[Se,le]=c.useState(!1),[ce,U]=c.useState(!1),[oe,ke]=c.useState(""),[q,Ae]=c.useState(""),[de,Fe]=c.useState([]),[Ee,Te]=c.useState(""),[B,$]=c.useState(""),[Ie,_]=c.useState(!1),[h,he]=c.useState({emailNotifications:!0,smsNotifications:!1,appointmentReminders:!0,prescriptionAlerts:!0,marketingEmails:!1,language:"en",timezone:"UTC",dateFormat:"MM/DD/YYYY",theme:"light",autoLogout:30,dataRetention:!0}),[x,Y]=c.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[d,f]=c.useState({firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",bio:(t==null?void 0:t.bio)||"",profileImage:(t==null?void 0:t.profileImage)||""}),{data:k}=M({queryKey:["/api/users/security"],enabled:!!t}),{data:me=[]}=M({queryKey:["/api/users/sessions"],enabled:!!t}),{data:ue=[]}=M({queryKey:["/api/users/api-keys"],enabled:!!t}),{data:D}=M({queryKey:["/api/users/preferences"],enabled:!!t});c.useEffect(()=>{k&&U((k==null?void 0:k.twoFactorEnabled)||!1)},[k]);const[xe,Ye]=c.useState(!1);c.useEffect(()=>{if(D&&!xe){const s=localStorage.getItem("selectedLanguage"),a={...D,language:s||D.language};he(a),Ye(!0),s&&s!==z&&K(s)}},[D,xe,z,K]);const Q=j({mutationFn:async s=>{const a=["firstName","lastName","email","phone","bio","profileImage"],i=Object.keys(s).filter(p=>a.includes(p)&&s[p]!==void 0).reduce((p,ve)=>(p[ve]=s[ve],p),{}),A=await fetch("/api/users/profile",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(i)});if(!A.ok){const p=await A.text();throw console.error("Profile update error:",p),new Error("Failed to update profile")}return A.json()},onSuccess:()=>{r({title:"Profile updated",description:"Your profile has been updated successfully."}),R(!1),ie(),P.invalidateQueries({queryKey:["/api/users/profile"]})},onError:s=>{r({title:"Error",description:s.message||"Failed to update profile",variant:"destructive"})}}),V=j({mutationFn:async s=>{const a=await fetch("/api/users/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(s)});if(!a.ok){const i=await a.json();throw new Error(i.message||"Failed to change password")}return a.json()},onSuccess:()=>{r({title:"Password changed",description:"Your password has been changed successfully."}),Y({currentPassword:"",newPassword:"",confirmPassword:""})},onError:s=>{r({title:"Error",description:s.message||"Failed to change password",variant:"destructive"})}}),J=j({mutationFn:async()=>{const s=localStorage.getItem("auth_token");if(!s)throw new Error("No authentication token found");const a=await fetch("/api/users/2fa/setup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}});if(!a.ok)throw new Error("Failed to setup 2FA");return a.json()},onSuccess:s=>{ke(s.qrCode),Fe(s.backupCodes),Te(s.secret),le(!0)},onError:s=>{r({title:"Error",description:s.message||"Failed to setup 2FA",variant:"destructive"})}}),G=j({mutationFn:async s=>{const a=localStorage.getItem("auth_token");if(!a)throw new Error("No authentication token found");const i=await fetch("/api/users/2fa/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({code:s,secret:Ee})});if(!i.ok)throw new Error("Invalid verification code");return i.json()},onSuccess:()=>{U(!0),le(!1),r({title:"Success",description:"Two-factor authentication enabled successfully"}),P.invalidateQueries({queryKey:["/api/users/security"]})},onError:s=>{r({title:"Error",description:s.message||"Invalid verification code",variant:"destructive"})}}),H=j({mutationFn:async()=>{const s=localStorage.getItem("auth_token");if(!s)throw new Error("No authentication token found");const a=await fetch("/api/users/2fa/disable",{method:"POST",headers:{Authorization:`Bearer ${s}`}});if(!a.ok)throw new Error("Failed to disable 2FA");return a.json()},onSuccess:()=>{U(!1),r({title:"Success",description:"Two-factor authentication disabled"}),P.invalidateQueries({queryKey:["/api/users/security"]})}}),pe=j({mutationFn:async s=>{const a=localStorage.getItem("auth_token");if(!a)throw new Error("No authentication token found");const i=await fetch(`/api/users/sessions/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}});if(!i.ok)throw new Error("Failed to revoke session");return i.json()},onSuccess:()=>{r({title:"Success",description:"Session revoked successfully"}),P.invalidateQueries({queryKey:["/api/users/sessions"]})}}),W=j({mutationFn:async s=>{const a=localStorage.getItem("auth_token");if(!a)throw new Error("No authentication token found");const i=await fetch("/api/users/api-keys",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({name:s})});if(!i.ok)throw new Error("Failed to create API key");return i.json()},onSuccess:s=>{r({title:"API Key Created",description:"Make sure to copy your API key now. You won't be able to see it again!"}),_(!1),$(""),P.invalidateQueries({queryKey:["/api/users/api-keys"]})}}),je=j({mutationFn:async s=>{const a=localStorage.getItem("auth_token");if(!a)throw new Error("No authentication token found");const i=await fetch(`/api/users/api-keys/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}});if(!i.ok)throw new Error("Failed to delete API key");return i.json()},onSuccess:()=>{r({title:"Success",description:"API key deleted successfully"}),P.invalidateQueries({queryKey:["/api/users/api-keys"]})}}),X=j({mutationFn:async s=>{const a=localStorage.getItem("auth_token");if(!a)throw new Error("No authentication token found");const i=await fetch("/api/users/preferences",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(s)});if(!i.ok)throw new Error("Failed to update preferences");return i.json()},onSuccess:()=>{r({title:"Preferences updated",description:"Your account preferences have been saved successfully."}),P.invalidateQueries({queryKey:["/api/users/preferences"]})},onError:s=>{r({title:"Error",description:s.message||"Failed to update preferences",variant:"destructive"})}}),De=()=>{const s={firstName:d.firstName,lastName:d.lastName,email:d.email,phone:d.phone||null,bio:d.bio||null,profileImage:d.profileImage||null};Q.mutate(s)},Me=()=>{X.mutate(h)},m=(s,a)=>{const i={...h,[s]:a};he(i),s==="language"&&a!==z&&K(a)},Le=()=>{if(x.newPassword!==x.confirmPassword){r({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(x.newPassword.length<8){r({title:"Error",description:"Password must be at least 8 characters long",variant:"destructive"});return}V.mutate(x)},Ke=`${((ge=t==null?void 0:t.firstName)==null?void 0:ge[0])||""}${((fe=t==null?void 0:t.lastName)==null?void 0:fe[0])||""}`,ze=(u==null?void 0:u.name)==="ARGILETTE"||(u==null?void 0:u.type)==="platform";return e.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Profile Settings"}),e.jsx("p",{className:"text-slate-600 mt-2",children:"Manage your account settings and preferences"})]}),ze&&e.jsxs(C,{className:"bg-purple-100 text-purple-800",children:[e.jsx(we,{className:"w-3 h-3 mr-1"}),"Platform Owner"]})]}),e.jsxs(Be,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs($e,{className:"inline-flex h-12 items-center justify-start rounded-lg bg-muted p-1 text-muted-foreground w-full max-w-2xl",children:[e.jsx(Z,{value:"profile",children:"Profile"}),e.jsx(Z,{value:"security",children:"Security"}),e.jsx(Z,{value:"preferences",children:"Preferences"})]}),e.jsx(ee,{value:"profile",children:e.jsxs(N,{children:[e.jsx(v,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"w-5 h-5"}),"Personal Information"]})}),e.jsxs(y,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(Qe,{className:"h-20 w-20",children:d.profileImage?e.jsx(Ve,{src:d.profileImage}):e.jsx(Je,{className:"bg-blue-100 text-blue-700 text-xl font-medium",children:Ke})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Profile Picture"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Ge,{maxNumberOfFiles:1,maxFileSize:5*1024*1024,onGetUploadParameters:async()=>{const s=await fetch("/api/objects/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!s.ok)throw new Error("Failed to get upload URL");return{method:"PUT",url:(await s.json()).uploadURL}},onComplete:async s=>{if(s.successful&&s.successful.length>0){const a=s.successful[0].uploadURL;try{const i=await fetch("/api/users/profile-image",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({profileImageURL:a})});if(!i.ok)throw new Error("Failed to update profile image");const A=await i.json();f(p=>({...p,profileImage:A.objectPath})),r({title:"Profile Picture Updated",description:"Your profile picture has been successfully updated."}),ie()}catch(i){console.error("Error updating profile image:",i),r({title:"Upload Failed",description:"Failed to update profile picture. Please try again.",variant:"destructive"})}}},buttonClassName:"variant-outline size-sm",children:[e.jsx(He,{className:"w-4 h-4 mr-2"}),"Upload Photo"]}),d.profileImage&&e.jsx(o,{variant:"outline",size:"sm",onClick:()=>f(s=>({...s,profileImage:""})),children:"Remove"})]})]})]}),e.jsx(We,{}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"firstName",children:"First Name"}),e.jsx(g,{id:"firstName",value:d.firstName,onChange:s=>f(a=>({...a,firstName:s.target.value})),disabled:!b})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"lastName",children:"Last Name"}),e.jsx(g,{id:"lastName",value:d.lastName,onChange:s=>f(a=>({...a,lastName:s.target.value})),disabled:!b})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email Address"}),e.jsx(g,{id:"email",type:"email",value:d.email,onChange:s=>f(a=>({...a,email:s.target.value})),disabled:!b})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",children:"Phone Number"}),e.jsx(g,{id:"phone",value:d.phone,onChange:s=>{if(!b)return;const a=s.target.value.replace(/\D/g,"").slice(0,10);f(i=>({...i,phone:a}))},disabled:!b,placeholder:"1234567890",maxLength:10})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bio",children:"Bio"}),e.jsx(Xe,{id:"bio",value:d.bio,onChange:s=>f(a=>({...a,bio:s.target.value})),disabled:!b,placeholder:"Tell us about yourself...",rows:3})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Role"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{variant:"outline",className:"capitalize",children:(Ne=t==null?void 0:t.role)==null?void 0:Ne.replace("_"," ")}),t!=null&&t.isActive?e.jsxs(C,{className:"bg-green-100 text-green-800",children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),"Active"]}):e.jsxs(C,{variant:"destructive",children:[e.jsx(ye,{className:"w-3 h-3 mr-1"}),"Inactive"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Organization"}),e.jsx("div",{className:"text-sm text-gray-600",children:u==null?void 0:u.name})]})]}),e.jsx("div",{className:"flex gap-4 pt-4",children:b?e.jsxs(e.Fragment,{children:[e.jsxs(o,{onClick:De,disabled:Q.isPending,children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),Q.isPending?"Saving...":"Save Changes"]}),e.jsx(o,{variant:"outline",onClick:()=>{R(!1),f({firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",bio:(t==null?void 0:t.bio)||"",profileImage:(t==null?void 0:t.profileImage)||""})},children:"Cancel"})]}):e.jsxs(o,{onClick:()=>R(!0),children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]})]})}),e.jsx(ee,{value:"security",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(N,{children:[e.jsx(v,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5"}),"Change Password"]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"currentPassword",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{id:"currentPassword",type:O?"text":"password",value:x.currentPassword,onChange:s=>Y(a=>({...a,currentPassword:s.target.value}))}),e.jsx(o,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>Ce(!O),children:O?e.jsx(es,{className:"h-4 w-4"}):e.jsx(ss,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"newPassword",children:"New Password"}),e.jsx(g,{id:"newPassword",type:"password",value:x.newPassword,onChange:s=>Y(a=>({...a,newPassword:s.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx(g,{id:"confirmPassword",type:"password",value:x.confirmPassword,onChange:s=>Y(a=>({...a,confirmPassword:s.target.value}))})]}),e.jsx(o,{onClick:Le,disabled:V.isPending||!x.currentPassword||!x.newPassword,children:V.isPending?"Changing...":"Change Password"})]})]}),e.jsxs(N,{children:[e.jsx(v,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"w-5 h-5"}),"Two-Factor Authentication"]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Authenticator App"}),e.jsx("p",{className:"text-sm text-gray-500",children:ce?"Two-factor authentication is enabled":"Add an extra layer of security to your account"})]}),e.jsx("div",{className:"flex items-center gap-2",children:ce?e.jsxs(e.Fragment,{children:[e.jsxs(C,{className:"bg-green-100 text-green-800",children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),"Enabled"]}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>H.mutate(),disabled:H.isPending,children:H.isPending?"Disabling...":"Disable"})]}):e.jsx(o,{variant:"outline",size:"sm",onClick:()=>J.mutate(),disabled:J.isPending,children:J.isPending?"Setting up...":"Enable 2FA"})})]}),Se&&e.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Setup Two-Factor Authentication"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"1. Scan this QR code with your authenticator app:"}),e.jsx("div",{className:"flex justify-center p-4 bg-white border rounded",children:oe?e.jsx("img",{src:oe,alt:"2FA QR Code",className:"w-32 h-32"}):e.jsx("div",{className:"w-32 h-32 bg-gray-200 flex items-center justify-center",children:"QR Code"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"2. Enter the verification code from your app:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{placeholder:"000000",value:q,onChange:s=>Ae(s.target.value),maxLength:6,className:"font-mono text-center"}),e.jsx(o,{onClick:()=>G.mutate(q),disabled:G.isPending||q.length!==6,children:G.isPending?"Verifying...":"Verify"})]})]}),de.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"3. Save these backup codes in a safe place:"}),e.jsx("div",{className:"p-3 bg-gray-100 rounded font-mono text-sm",children:de.map((s,a)=>e.jsx("div",{children:s},a))})]})]})]})]})]}),e.jsxs(N,{children:[e.jsx(v,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Active Login Sessions"]})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-3",children:[me.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(te,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium",children:s.device}),s.isCurrent&&e.jsx(C,{className:"bg-green-100 text-green-800 text-xs",children:"Current"})]}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"w-3 h-3"}),s.browser]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ts,{className:"w-3 h-3"}),s.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(is,{className:"w-3 h-3"}),s.lastActive]})]})]})]}),!s.isCurrent&&e.jsx(o,{variant:"outline",size:"sm",onClick:()=>pe.mutate(s.id),disabled:pe.isPending,children:e.jsx(Pe,{className:"w-4 h-4"})})]},s.id)),me.length===0&&e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(te,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"No active sessions found"})]})]})})]}),e.jsxs(N,{children:[e.jsx(v,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5"}),"API Keys"]})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"API keys allow external applications to access your account"}),e.jsxs(o,{size:"sm",onClick:()=>_(!0),children:[e.jsx(ns,{className:"w-4 h-4 mr-2"}),"New Key"]})]}),e.jsxs("div",{className:"space-y-3",children:[ue.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-4",children:[e.jsx("span",{className:"font-mono",children:s.keyPreview}),e.jsxs("span",{children:["Created: ",new Date(s.createdAt).toLocaleDateString()]}),s.lastUsed&&e.jsxs("span",{children:["Last used: ",new Date(s.lastUsed).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(s.keyPreview),r({title:"Copied to clipboard"})},children:e.jsx(rs,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>je.mutate(s.id),disabled:je.isPending,children:e.jsx(Pe,{className:"w-4 h-4"})})]})]},s.id)),ue.length===0&&e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(ae,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"No API keys created yet"})]})]}),Ie&&e.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Create New API Key"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"apiKeyName",children:"Key Name"}),e.jsx(g,{id:"apiKeyName",placeholder:"My API Key",value:B,onChange:s=>$(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{onClick:()=>W.mutate(B),disabled:W.isPending||!B.trim(),children:W.isPending?"Creating...":"Create Key"}),e.jsx(o,{variant:"outline",onClick:()=>{_(!1),$("")},children:"Cancel"})]})]})]})]})})]})]})}),e.jsx(ee,{value:"preferences",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"Account Preferences"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure your account settings and preferences."})]}),e.jsxs(N,{children:[e.jsx(v,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5"}),"Notification Settings"]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive important updates via email"})]}),e.jsx(S,{checked:h.emailNotifications,onCheckedChange:s=>m("emailNotifications",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive urgent alerts via text message"})]}),e.jsx(S,{checked:h.smsNotifications,onCheckedChange:s=>m("smsNotifications",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Appointment Reminders"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get reminders for upcoming appointments"})]}),e.jsx(S,{checked:h.appointmentReminders,onCheckedChange:s=>m("appointmentReminders",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Prescription Alerts"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Notifications for prescription updates and refills"})]}),e.jsx(S,{checked:h.prescriptionAlerts,onCheckedChange:s=>m("prescriptionAlerts",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Marketing Emails"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive promotional content and updates"})]}),e.jsx(S,{checked:h.marketingEmails,onCheckedChange:s=>m("marketingEmails",s)})]})]})]}),e.jsxs(N,{children:[e.jsx(v,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5"}),"Display & Language"]})}),e.jsx(y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs(l,{htmlFor:"language",className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Language Preference"]}),ne&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-blue-600",children:[e.jsx(ls,{className:"h-3 w-3 animate-spin"}),"Syncing..."]}),re&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[e.jsx(se,{className:"h-3 w-3"}),"Synced"]})]}),e.jsxs(F,{value:h.language,onValueChange:s=>m("language",s),disabled:ne||re,children:[e.jsx(E,{className:"w-full",children:e.jsx(T,{})}),e.jsxs(I,{children:[e.jsx(n,{value:"en",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ‡ºðŸ‡¸"}),e.jsx("span",{children:"English"})]})}),e.jsx(n,{value:"es",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ‡ªðŸ‡¸"}),e.jsx("span",{children:"EspaÃ±ol"})]})}),e.jsx(n,{value:"fr",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ‡«ðŸ‡·"}),e.jsx("span",{children:"FranÃ§ais"})]})}),e.jsx(n,{value:"de",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ‡©ðŸ‡ª"}),e.jsx("span",{children:"Deutsch"})]})}),e.jsx(n,{value:"pt",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ‡µðŸ‡¹"}),e.jsx("span",{children:"PortuguÃªs"})]})})]})]}),e.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-md",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"One-Click Language Sync"}),e.jsx("p",{className:"text-blue-600 mt-1",children:"Your language preference automatically syncs across all your devices and sessions. Changes take effect immediately and persist everywhere you're logged in."})]})]})})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"timezone",children:"Timezone"}),e.jsxs(F,{value:h.timezone,onValueChange:s=>m("timezone",s),children:[e.jsx(E,{children:e.jsx(T,{})}),e.jsxs(I,{children:[e.jsx(n,{value:"America/New_York",children:"Eastern Time (ET)"}),e.jsx(n,{value:"America/Chicago",children:"Central Time (CT)"}),e.jsx(n,{value:"America/Denver",children:"Mountain Time (MT)"}),e.jsx(n,{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),e.jsx(n,{value:"UTC",children:"UTC"}),e.jsx(n,{value:"Europe/London",children:"London (GMT)"}),e.jsx(n,{value:"Europe/Paris",children:"Paris (CET)"}),e.jsx(n,{value:"Asia/Tokyo",children:"Tokyo (JST)"})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"dateFormat",children:"Date Format"}),e.jsxs(F,{value:h.dateFormat,onValueChange:s=>m("dateFormat",s),children:[e.jsx(E,{children:e.jsx(T,{})}),e.jsxs(I,{children:[e.jsx(n,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx(n,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx(n,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"}),e.jsx(n,{value:"DD-MMM-YYYY",children:"DD-MMM-YYYY"})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"theme",children:"Theme"}),e.jsxs(F,{value:h.theme,onValueChange:s=>m("theme",s),children:[e.jsx(E,{children:e.jsx(T,{})}),e.jsxs(I,{children:[e.jsx(n,{value:"light",children:"Light"}),e.jsx(n,{value:"dark",children:"Dark"}),e.jsx(n,{value:"system",children:"System"})]})]})]})]})})]}),e.jsxs(N,{children:[e.jsx(v,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-5 h-5"}),"Security & Privacy"]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"autoLogout",children:"Auto Logout (minutes)"}),e.jsxs(F,{value:h.autoLogout.toString(),onValueChange:s=>m("autoLogout",parseInt(s)),children:[e.jsx(E,{children:e.jsx(T,{})}),e.jsxs(I,{children:[e.jsx(n,{value:"15",children:"15 minutes"}),e.jsx(n,{value:"30",children:"30 minutes"}),e.jsx(n,{value:"60",children:"1 hour"}),e.jsx(n,{value:"120",children:"2 hours"}),e.jsx(n,{value:"240",children:"4 hours"}),e.jsx(n,{value:"0",children:"Never"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Data Retention"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Keep historical data for analytics and compliance"})]}),e.jsx(S,{checked:h.dataRetention,onCheckedChange:s=>m("dataRetention",s)})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(o,{onClick:Me,disabled:X.isPending,className:"w-full sm:w-auto",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),X.isPending?"Saving...":"Save Preferences"]})})]})})]})]})})}export{os as default};
