import{r as N,u as w,au as S,j as e,h as o,P as C,C as l,d as i,e as c,z as h,g as n,am as g,K as k,I as L,X as T,Y as I,Z as p,_ as a,$ as A,a0 as r,a4 as R,c3 as M,f as V,a1 as D}from"./index-B4rk5nfq.js";function B(){const[x,v]=N.useState("");N.useState(null),w();const{data:d=[],isLoading:P}=S({queryKey:["/api/pharmacy/inventory"],queryFn:()=>Promise.resolve([{id:"1",medicationName:"Amoxicillin",genericName:"Amoxicillin",strength:"500mg",form:"Capsule",currentStock:45,reorderLevel:20,maxStock:100,unitCost:.85,totalValue:38.25,supplier:"PharmaCorp",expiryDate:"2025-12-15",lotNumber:"AMX2025001",status:"good",lastRestocked:"2025-01-15"},{id:"2",medicationName:"Lisinopril",genericName:"Lisinopril",strength:"10mg",form:"Tablet",currentStock:8,reorderLevel:15,maxStock:80,unitCost:.45,totalValue:3.6,supplier:"MediSupply",expiryDate:"2025-08-30",lotNumber:"LIS2024089",status:"low",lastRestocked:"2024-12-20"},{id:"3",medicationName:"Metformin",genericName:"Metformin HCL",strength:"850mg",form:"Tablet",currentStock:2,reorderLevel:10,maxStock:150,unitCost:.25,totalValue:.5,supplier:"GenericMeds",expiryDate:"2025-06-20",lotNumber:"MET2024156",status:"critical",lastRestocked:"2024-11-10"},{id:"4",medicationName:"Atorvastatin",genericName:"Atorvastatin Calcium",strength:"40mg",form:"Tablet",currentStock:32,reorderLevel:20,maxStock:120,unitCost:1.2,totalValue:38.4,supplier:"PharmaCorp",expiryDate:"2025-11-08",lotNumber:"ATO2025023",status:"good",lastRestocked:"2025-01-20"},{id:"5",medicationName:"Omeprazole",genericName:"Omeprazole",strength:"20mg",form:"Capsule",currentStock:0,reorderLevel:25,maxStock:100,unitCost:.75,totalValue:0,supplier:"MediSupply",expiryDate:"2024-12-31",lotNumber:"OME2024078",status:"expired",lastRestocked:"2024-08-15"}]),staleTime:3e4}),j=s=>{const t={good:{color:"bg-green-100 text-green-800",icon:"âœ…"},low:{color:"bg-yellow-100 text-yellow-800",icon:"âš ï¸"},critical:{color:"bg-red-100 text-red-800",icon:"ðŸš¨"},expired:{color:"bg-gray-100 text-gray-800",icon:"âŒ"}},u=t[s]||t.good;return e.jsxs(D,{className:u.color,children:[u.icon," ",s.charAt(0).toUpperCase()+s.slice(1)]})},y=d.filter(s=>{var t;return s.medicationName.toLowerCase().includes(x.toLowerCase())||((t=s.genericName)==null?void 0:t.toLowerCase().includes(x.toLowerCase()))}),m=d.filter(s=>s.status==="critical"||s.status==="expired"),f=d.filter(s=>s.status==="low"),b=d.reduce((s,t)=>s+t.totalValue,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pharmacy Inventory"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage medication stock levels and supplies"})]}),e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"Add New Item"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(l,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Total Items"}),e.jsx(h,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Active medications"})]})]}),e.jsxs(l,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Critical Alerts"}),e.jsx(g,{className:"h-4 w-4 text-red-600"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:m.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Need immediate attention"})]})]}),e.jsxs(l,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Low Stock"}),e.jsx(h,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:f.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Below reorder level"})]})]}),e.jsxs(l,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Inventory Value"}),e.jsx(h,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",b.toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total stock value"})]})]})]}),e.jsxs(l,{children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{children:"Inventory Items"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(L,{placeholder:"Search medications...",value:x,onChange:s=>v(s.target.value),className:"pl-10 w-80"})]})})]})}),e.jsx(n,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(T,{children:[e.jsx(I,{children:e.jsxs(p,{children:[e.jsx(a,{children:"Medication"}),e.jsx(a,{children:"Stock Level"}),e.jsx(a,{children:"Value"}),e.jsx(a,{children:"Supplier"}),e.jsx(a,{children:"Expiry"}),e.jsx(a,{children:"Status"}),e.jsx(a,{children:"Actions"})]})}),e.jsx(A,{children:y.map(s=>e.jsxs(p,{children:[e.jsx(r,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.medicationName}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.strength," ",s.form]}),s.genericName&&e.jsxs("div",{className:"text-xs text-gray-400",children:["Generic: ",s.genericName]})]})}),e.jsx(r,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[s.currentStock," units"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Reorder at: ",s.reorderLevel]})]})}),e.jsx(r,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["$",s.totalValue.toFixed(2)]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["$",s.unitCost.toFixed(2)," each"]})]})}),e.jsx(r,{children:e.jsx("div",{className:"text-sm",children:s.supplier})}),e.jsx(r,{children:e.jsx("div",{className:"text-sm",children:new Date(s.expiryDate).toLocaleDateString()})}),e.jsx(r,{children:j(s.status)}),e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{variant:"ghost",size:"sm",children:e.jsx(R,{className:"h-4 w-4"})}),e.jsx(o,{variant:"ghost",size:"sm",children:e.jsx(M,{className:"h-4 w-4"})})]})})]},s.id))})]})})})]}),m.length>0&&e.jsxs(l,{className:"border-red-200 bg-red-50",children:[e.jsxs(i,{children:[e.jsxs(c,{className:"text-red-800 flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5"}),"Critical Inventory Alerts"]}),e.jsx(V,{className:"text-red-700",children:"These items require immediate attention"})]}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:m.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-red-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.medicationName}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Stock: ",s.currentStock," units â€¢ Reorder Level: ",s.reorderLevel]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[j(s.status),e.jsx(o,{size:"sm",children:s.status==="expired"?"Remove Stock":"Reorder Now"})]})]},s.id))})})]})]})}export{B as default};
